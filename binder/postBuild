# java installation
curl -s "https://get.sdkman.io" | bash
source "$HOME/.sdkman/bin/sdkman-init.sh"
sdk install java 9.0.1-oracle

# spark install
APACHE_SPARK_VERSION=2.2.2
SP_DIR=/home/jovyan/ 
cd /tmp && \
        wget -q http://apache.claz.org/spark/spark-${APACHE_SPARK_VERSION}/spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz && \
        tar xzf spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz -C $SP_DIR && \
        rm spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6.tgz
cd $SP_DIR && mv spark-${APACHE_SPARK_VERSION}-bin-hadoop2.6 spark
SPARK_HOME="$SP_DIR/spark"
# jupyter / toree code
jupyter declarativewidgets install --user --symlink
jupyter dashboards install --user --symlink
jupyter dashboards activate
jupyter declarativewidgets activate
jupyter dashboards_bundlers activate
jupyter toree install --user --spark_home=$SPARK_HOME
